<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Cynara API: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cynara API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Cynara API Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://wiki.tizen.org/wiki/Security:Cynara">Cynara</a> is fast, simple and safe policy-checker service. Functions of Cynara are:</p>
<ul>
<li>checking access for certain privileges</li>
<li>holding policies</li>
<li>simple, single function API - for checking policies</li>
<li>thin client library - to make access control even more simple</li>
<li>ability to use external agent (in case of policies that can't be full processed in cynara and plugins)</li>
</ul>
<h1>API</h1>
<p>Cynara's API is split into two parts:</p>
<ul>
<li>client API for privilege checking API - easily accessed with libCynara by anyone</li>
<li>admin API for policy managing API - accessed only by trusted processes with libCynaraAdmin.</li>
</ul>
<p>Cynara service uses separate Unix Domain Sockets for handling each type of API.</p>
<h2>Client</h2>
<p>Both synchronous and asynchronous client API for cynara is available. It is provided by libcynara-client and libcynara-clienty-async libraries.</p>
<p><a class="el" href="cynara-client_8h.html">Details of client synchronous API</a></p>
<p><a class="el" href="cynara-client-async_8h.html">Details of client asynchronous API</a></p>
<p>To enhance client performance a simple LRU Cache was implemented for both synchronous and asynchronous client API. Cache is available since cynara 0.2.0 version.</p>
<p><a href="https://wiki.tizen.org/wiki/Security:Cynara:API:client-cache">Details of cache</a></p>
<p>On Tizen 3.0 application context - information that identify application and user that runs it are defined by SMACK label and UID. There are helpers libraries for different IPC. They will make obtaining these information easier. They are described below in credentials section.</p>
<p>There might be a problem, if IPC between application and service do not provide UID and SMACK label of application. The only way to obtain application context is probably reading it from /proc/PID (service needs RX to application SMACK label for that).</p>
<p>Direct ways of getting these information is described <a href="http://wiki.tizen.org/wiki/Security:Cynara:ApplicationCredentials">here</a>, but users are strongly recommended to use credential helpers libraries.</p>
<h2>Admin</h2>
<p>Admin API is the only way to change policy kept in cynara. Its usage needs root privileges on Tizen . This restriction guarantees that no unprivileged process can play with cynara policy. On Tizen 3.0 SecurityManager is a service dedicated to make changes to cynara and probably should be the only user of cynara's admin interface. Processes that would like to change cynara policy (e.g. installers) should use libsecurity-manager-client library instead of direct cynara calls.</p>
<p><a class="el" href="cynara-admin_8h.html">Details of admin API</a></p>
<h2>Plugins</h2>
<h3>Description</h3>
<p>Plugin API enables creating independent plugins for Cynara extensions. Plugins are shared libraries dynamically loaded into Cynara. They provide entry points defined by API to create external plugin entities. Plugin API is based on class interfaces, which define methods needed for both client- and service-side plugins.</p>
<h3>Client plugin</h3>
<p>Client plugins are responsible for interpreting external policy types, which can be delivered to client as cynara response, and translate them to <a class="el" href="cynara-error_8h.html#a9cd4eb7d12d8a753d05a9204e61dcb68">CYNARA_API_ACCESS_ALLOWED</a> or <a class="el" href="cynara-error_8h.html#ad5336cace7f7ac0cdbd2b7c2b20d3ce0">CYNARA_API_ACCESS_DENIED</a>. Plugins are only allowed to interpret policy types declared by overridden <a class="el" href="class_cynara_1_1_external_plugin_interface.html#aceeac3e33019bbb2b9668aba3655c135">getSupportedPolicyDescr()</a> method. Client plugins usually come together with service plugin (for e.g. askuser plugin – available in platform/core/security/askuser tizen.org repository).</p>
<h3>Service plugin</h3>
<p>Service plugins are responsible for interpreting external policy types. Communication with Cynara's agant extensions could be required for this to work. Plugins are only allowed to interpret policy types declared by overridden <a class="el" href="class_cynara_1_1_external_plugin_interface.html#aceeac3e33019bbb2b9668aba3655c135">getSupportedPolicyDescr()</a> method. Service plugins usually come together with Cynara agent extension (for e.g. askuser agent – available in platform/core/security/askuser tizen.org repository).</p>
<p><a class="el" href="cynara-plugin_8h.html">Details of plugin API</a></p>
<h2>Protocols</h2>
<p><a href="https://wiki.tizen.org/wiki/Security:Cynara:Protocols">Description of protocol for communication with cynara</a></p>
<h2>Credentials</h2>
<p>The helper APIs can be used to create:</p>
<ul>
<li>client identification strings</li>
<li>user identification strings</li>
</ul>
<p>Identification strings are necessary to specify Cynara policies. However, it is important to notice that usage of strings generated by these helper APIs is not obligatory – a different consistent way of client and user process identification strings might be introduced.</p>
<p>The client identification string might be generated based on the client process PID or SMACK label. The user identification string might be generated based on the client process UID (user id) or SMACK label. The default methods for a system might be obtained by calling cynara_creds_get_default_client_method or cynara_creds_get_default_user_method respectively.</p>
<p>Currently, there are two sets of functions which generate the identification strings. The one is based on DBUS connection, the other is based on Unix socket file descriptors. The connections and socket descriptors are used to obtain the PID, SMACK or UID associated with the client or user process.</p>
<p>In addition to the functions generating the identification strings, there are functions returning the PID of the process on the other side of socket/dbus connection. The PID might be used to generate different identification strings.</p>
<p>Details of credentials helper libraries: <a class="el" href="cynara-creds-commons_8h.html">commons</a>, <a class="el" href="cynara-creds-dbus_8h.html">dbus</a>, <a class="el" href="cynara-creds-gdbus_8h.html">gdbus</a>, <a class="el" href="cynara-creds-socket_8h.html">socket</a>.</p>
<h2>Session</h2>
<p>This helper API can be used to create a client session string identifiers based on PID and time of creation a client process. Session string identifiers are used in in <a class="el" href="cynara-client_8h.html#ae4006193f9b133cf0cfdb1747b06bc74">cynara_check()</a> and <a class="el" href="cynara-client-async_8h.html#a65105617ccab7c40aef6aae368be47e0">cynara_async_create_request()</a> functions defined in client libraries. It is important to notice that usage of strings generated by session library APIs is not obligatory – a different consistent way of identifiers generation might be introduced.</p>
<p><a class="el" href="cynara-session_8h.html">Details of session helper library</a></p>
<h2>Agent</h2>
<p>Cynara plugins may use external applications (agents) in order to perform some action on privilege check request. <a class="el" href="cynara-agent_8h.html">Agent API</a> allows communication between plugins and agents. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Nov 9 2015 15:24:42 for Cynara API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
